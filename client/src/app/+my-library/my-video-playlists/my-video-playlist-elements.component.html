<div class="root">

  <div class="playlist-info">
    @if (playlist) {
      <my-video-playlist-miniature
        [playlist]="playlist" toManage="false" displayChannel="true"
        displayDescription="true" displayPrivacy="true"
      ></my-video-playlist-miniature>
    }

    <div class="playlist-buttons">

      <my-button class="me-3" (click)="showShareModal()" i18n icon="share">Share</my-button>

      @if (isRegularPlaylist(playlist)) {
        <my-action-dropdown
          [entry]="playlist" [actions]="playlistActions" label="More"
        ></my-action-dropdown>
      }
    </div>

  </div>

  <div class="playlist-elements">
    @if (pagination.totalItems === 0) {
      <div class="no-results">
        <div i18n>No videos in this playlist.</div>
        <div i18n>Browse videos on PeerTube to add them in your playlist.</div>
        <div i18n>See the <a target="_blank" href="https://docs.joinpeertube.org/use/library#playlist">documentation</a> for more information.</div>
      </div>
    }

    <div
      class="videos" myInfiniteScroller (nearOfBottom)="onNearOfBottom()"
      cdkDropList (cdkDropListDropped)="drop($event)" [dataObservable]="onDataSubject.asObservable()"
    >
      @for (playlistElement of playlistElements; track trackByFn($index, playlistElement)) {
        <div class="video" cdkDrag [cdkDragStartDelay]="getDragStartDelay()">
          <my-video-playlist-element-miniature
            [playlistElement]="playlistElement" [playlist]="playlist" [owned]="true" (elementRemoved)="onElementRemoved($event)"
            [position]="playlistElement.position"
            >
          </my-video-playlist-element-miniature>
        </div>
      }
    </div>
  </div>
</div>

<my-video-share #videoShareModal [playlist]="playlist"></my-video-share>
