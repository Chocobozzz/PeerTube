<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="theme-color" content="#fff" />
    <meta property="og:platform" content="PeerTube" />
    <!-- Web Manifest file -->
    <link rel="manifest" href="/manifest.webmanifest?[manifestContentHash]">

    <link rel="icon" type="image/png" href="/client/assets/images/favicon.png?[faviconContentHash]" />
    <link rel="apple-touch-icon" href="/client/assets/images/icons/icon-144x144.png" sizes="144x144" />
    <link rel="apple-touch-icon" href="/client/assets/images/icons/icon-192x192.png" sizes="192x192" />

    <!-- logo background-image -->
    <style type="text/css">
      .icon-logo {
        background-image: url(/client/assets/images/logo.svg?[logoContentHash]);
      }
    </style>

    <!-- base url -->
    <base href="/">

    <!-- /!\ The following comment is used by the server to prerender some tags /!\ -->

    <!-- title tag -->
    <!-- description tag -->
    <!-- custom css tag -->
    <!-- meta tags -->
    <!-- server config -->

    <!-- /!\ Do not remove it /!\ -->
  </head>

  <!-- 3. Display the application -->
  <body id="custom-css" class="standalone-video-embed">
    <div id="error-block">
      <h1 id="error-title"></h1>
      <div id="error-content"></div>
    </div>
    <div class="video-js-wrapper">
      <div id="video-wrapper"></div>
    </div>
    <div id="placeholder-preview"></div>
    <script src="/pocketnet/peertube/video-embed.bundle.js"></script>
    <script>
      const addVideoToPage = () => {
        const elem = document.getElementById("video-wrapper");

        const urlParams = new URLSearchParams(window.location.search);

        const isVideEmbed = urlParams.get("embed");

        const [host, id] = [urlParams.get("host"), urlParams.get("id")];

        if (!isVideEmbed || !host || !id) return;

        PeerTubeEmbeding.main(elem, id, {
          host,
        });
      };

      addVideoToPage();
    </script>
  </body>
</html>
